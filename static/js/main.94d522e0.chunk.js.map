{"version":3,"sources":["actionCreators/mobileMenu.js","variables/actionTypes.js","components/PageHeader.js","redmine/getAuthorization.js","actionCreators/storeAuthorization.js","components/Input.js","pages/Login.js","actionCreators/userInfo.js","redmine/getTasks.js","redmine/getTypeActivity.js","MyTheme.js","redmine/timeEntries.js","actionCreators/notice.js","components/Notice.js","components/Task.js","actionCreators/notSavedData.js","pages/Tasks.js","actionCreators/tasks.js","actionCreators/activities.js","components/PieChart.js","redmine/getStatistics.js","functions/commandGetStatistics.js","pages/Statistics.js","actionCreators/statistics.js","actionCreators/modal.js","components/Preloader.js","components/Modal.js","components/MobileMenu.js","App.js","actionCreators/storeLogin.js","serviceWorker.js","startingValue.js","store/mainStore.js","reducers/reducer.js","index.js"],"names":["mobileMenu","value","type","ElevationScroll","props","children","window","trigger","useScrollTrigger","disableHysteresis","threshold","target","undefined","React","cloneElement","elevation","PageHeader","showMobileMenu","dispatchMobileMenu","Box","className","component","position","bgcolor","color","Toolbar","Hidden","mdUp","IconButton","onClick","this","edge","aria-label","smDown","to","Button","Typography","variant","name","Component","connect","state","authorized","user","userLogin","dispatch","getAuthorization","key","newUrl","newApiOrLogin","pass","request","url","localStorage","getItem","apiOrLogin","requestParams","auth","username","password","axios","get","then","response","catch","error","console","log","storeAuthorization","Input","Icon","IconsLib","icon","TextField","label","title","placeholder","onInput","InputProps","startAdornment","InputAdornment","Login","switchLogInByApi","setState","logInByApi","api","login","setAuthorization","e","data","apiKey","api_key","setItem","dispatchAuthorization","dispatchUserInfo","alert","updComponent","handleSubmit","preventDefault","setUrl","trim","endsWith","substring","length","setApi","setLogin","setPass","loginPass","onSubmit","mx","display","flexDirection","FormControlLabel","control","Switch","checked","onChange","size","disabled","userInfo","getTasks","getTypeActivity","createMuiTheme","palette","primary","main","dark","light","contrastText","secondary","text","overrides","MuiButton","root","minWidth","stop","timeEntries","id","time","activity","comment","time_entry","issue_id","hours","activity_id","comments","post","notice","show","Notice","close","dispatchNotice","Snackbar","open","autoHideDuration","onClose","Alert","severity","application","redTheme","MyTheme","Task","changeActivity","changeComment","switchPlay","play","startTimer","dispatchNotSavedData","stopTimer","milliseconds","toFixed","entries","feedback","seconds","minutes","timer","Object","keys","activities","classes","activityKeys","activityValues","values","map","elem","i","MenuItem","ExpansionPanel","ExpansionPanelSummary","expandIcon","Grid","container","spacing","item","xs","sm","md","project","gutterBottom","subject","alignItems","justify","startImmediately","formatValue","onStart","start","resume","pause","reset","getTime","getTimerState","theme","notSavedData","stopPropagation","m","Hours","Minutes","Seconds","ExpansionPanelDetails","multiline","fullWidth","inputProps","maxLength","mb","FormControl","Select","priority","Chip","estimated_hours","spent_hours","start_date","due_date","withStyles","background","width","Tasks","showCurrentComponent","setTasks","setActivities","tasks","issues","dispatchTasks","setLoaded","time_entry_activities","result","forEach","dispatchActivities","isLoading","tasksList","index","status","skeleton","my","Skeleton","height","PieChart","percent","styles","buildStyles","textColor","pathColor","trailColor","CircularProgress","getStatistics","period","date","Date","_year","getFullYear","_month","getMonth","_day","getDate","_weekday","getDay","_firstDayWeek","today","weekStarted","periodToday","periodWeek","periodMonth","lastN","monthCommands","n","command","n1","push","n2","n3","lastCommandForMonth","getMonthCommands","Statistics","isLoadingName","setStatistics","time_entries","dispatchStatistics","month","isLoadingDay","isLoadingWeek","isLoadingMonth","dayPercent","day","weekPercent","week","monthPercent","statistics","modal","Preloader","Modal","dispatchModal","Dialog","aria-labelledby","aria-describedby","DialogTitle","DialogContent","DialogContentText","DialogActions","autoFocus","MobileMenu","closeDrawer","Drawer","anchor","List","ListItem","App","handleWindowBeforeUnload","returnValue","dispatchLogin","toggleDrawer","side","showDrawer","addEventListener","removeEventListener","exact","path","when","message","isLocalhost","Boolean","location","hostname","match","registerValidSW","swUrl","config","navigator","serviceWorker","register","registration","onupdatefound","installingWorker","installing","onstatechange","controller","onUpdate","onSuccess","startingValue","redmineUrl","store","createStore","action","assign","states","ReactDOM","render","mainStore","document","getElementById","URL","process","href","origin","fetch","headers","contentType","indexOf","ready","unregister","reload","checkValidServiceWorker"],"mappings":"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","file":"static/js/main.94d522e0.chunk.js","sourcesContent":["\r\n\r\nimport {UPD_MOBILE_MENU} from \"../variables/actionTypes\";\r\n\r\nexport function mobileMenu(value) {\r\n  return {\r\n    type: UPD_MOBILE_MENU,\r\n    value\r\n  };\r\n}","// actionTypes\r\n\r\n/*\r\n * типы экшенов\r\n */\r\nexport const UPD_MAIN_STORE = 'UPD_MAIN_STORE';\r\nexport const UPD_TASKS = 'UPD_TASKS';\r\nexport const UPD_AUTHORIZED = 'UPD_AUTHORIZED';\r\nexport const UPD_ACTIVITIES = 'UPD_ACTIVITIES';\r\nexport const UPD_NOTICE = 'UPD_NOTICE';\r\nexport const UPD_MODAL = 'UPD_MODAL';\r\nexport const UPD_MOBILE_MENU = 'UPD_MOBILE_MENU';\r\nexport const UPD_NOT_SAVED_DATA = 'UPD_NOT_SAVED_DATA';\r\nexport const UPD_LOGIN = 'UPD_LOGIN';\r\nexport const UPD_USER_DATA = 'UPD_USER_DATA';\r\nexport const UPD_STATISTICS = 'UPD_STATISTICS';\r\nexport const UPD_APPLICATION_STATUS = 'UPD_APPLICATION_STATUS';","// pageHeader\r\n\r\nimport React from \"react\";\r\nimport { connect } from 'react-redux';\r\n\r\nimport * as IconsLib from \"@material-ui/icons\";\r\n// let Icon = IconsLib[elem[1]];\r\n// <Icon />\r\n\r\nimport Hidden from '@material-ui/core/Hidden';\r\nimport Toolbar from '@material-ui/core/Toolbar';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport Button from '@material-ui/core/Button';\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport MenuIcon from '@material-ui/icons/Menu';\r\nimport Drawer from '@material-ui/core/Drawer';\r\n\r\nimport Box from '@material-ui/core/Box';\r\nimport useScrollTrigger from '@material-ui/core/useScrollTrigger';\r\nimport { mobileMenu } from \"../actionCreators/mobileMenu\";\r\n\r\nimport {\r\n  BrowserRouter as Router,\r\n  Switch,\r\n  Route,\r\n  Link\r\n} from \"react-router-dom\";\r\n\r\n\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n    authorized: !!+state.authorized,\r\n    name: state.user.userLogin,\r\n  }\r\n}\r\n\r\nconst mapDispatchToProps = dispatch => {\r\n  return {\r\n    dispatchMobileMenu: (value) => dispatch(mobileMenu(value)),\r\n  }\r\n};\r\n\r\nfunction ElevationScroll(props) {\r\n  const { children, window } = props;\r\n  const trigger = useScrollTrigger({\r\n    disableHysteresis: true,\r\n    threshold: 0,\r\n    target: window ? window() : undefined,\r\n  });\r\n\r\n  return React.cloneElement(children, {\r\n    elevation: trigger ? 4 : 0,\r\n  });\r\n}\r\n\r\n// настройка тегов\r\nclass PageHeader extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n  }\r\n\r\n  showMobileMenu = () => {\r\n    this.props.dispatchMobileMenu(true);\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <ElevationScroll>\r\n        <Box\r\n          className={\"page-header\"}\r\n          component={'header'}\r\n          position=\"fixed\"\r\n          bgcolor=\"primary.dark\"\r\n          color=\"text.primary\"\r\n        >\r\n          <Toolbar >\r\n\r\n            <Hidden mdUp>\r\n              <IconButton\r\n                onClick={this.showMobileMenu}\r\n                edge=\"start\"\r\n                aria-label=\"menu\"\r\n                color=\"inherit\">\r\n                <MenuIcon />\r\n              </IconButton>\r\n            </Hidden>\r\n\r\n            <Hidden smDown>\r\n              <Link to=\"/tasks\" className={\"clear-link-style\"}>\r\n                <Button color=\"inherit\">\r\n                  Задачи\r\n              </Button>\r\n              </Link>\r\n\r\n              <Link to=\"/statistics\" className={\"clear-link-style\"}>\r\n                <Button color=\"inherit\">\r\n                  Статистика\r\n              </Button>\r\n              </Link>\r\n            </Hidden>\r\n\r\n            <Typography variant=\"body2\" color=\"inherit\" className={'header__login'}>\r\n              {this.props.name}\r\n            </Typography>\r\n          </Toolbar>\r\n        </Box>\r\n      </ElevationScroll>\r\n    )\r\n  }\r\n}\r\n\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(PageHeader);","import axios from \"axios\";\r\n\r\nfunction getAuthorization(key, newUrl, newApiOrLogin, pass) {\r\n  const url = newUrl ? newUrl : localStorage.getItem(\"url\");\r\n  const apiOrLogin = newApiOrLogin ? newApiOrLogin : localStorage.getItem(\"api\");\r\n\r\n  let request;\r\n  let requestParams = {};\r\n\r\n  switch (key) {\r\n    case \"api\":\r\n      request = `${url}/users/current.json?key=${apiOrLogin}`;\r\n      break;\r\n    case \"login\":\r\n      request = `${url}/users/current.json`;\r\n      requestParams = {\r\n        auth: {\r\n          username: apiOrLogin,\r\n          password: pass\r\n        }\r\n      };\r\n      break;\r\n    default:\r\n      break;\r\n  }\r\n\r\n  return axios.get(request, requestParams)\r\n    .then(response => {\r\n      return response;\r\n    })\r\n    .catch(function (error) {\r\n      console.log(\"authorization => error \\n\", error);\r\n    });\r\n}\r\n\r\nexport default getAuthorization;\r\n","import {UPD_AUTHORIZED} from \"../variables/actionTypes\";\r\n\r\nexport function storeAuthorization(authorized) {\r\n  return {\r\n    type: UPD_AUTHORIZED,\r\n    authorized: authorized\r\n  };\r\n}","import React from \"react\";\r\n\r\nimport * as IconsLib from \"@material-ui/icons\";\r\n\r\nimport TextField from \"@material-ui/core/TextField\";\r\nimport InputAdornment from \"@material-ui/core/InputAdornment\";\r\n\r\n\r\n\r\n\r\nclass Input extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n  }\r\n\r\n\r\n  render() {\r\n    const Icon = IconsLib[this.props.icon];\r\n\r\n    return (\r\n      <TextField\r\n      label={this.props.label}\r\n      title={this.props.label}\r\n      type={this.props.type ? this.props.type : 'text'}\r\n      color=\"secondary\"\r\n      placeholder={this.props.placeholder}\r\n      variant=\"outlined\"\r\n      onInput={this.props.onInput}\r\n      InputProps={{\r\n        startAdornment: (\r\n          <InputAdornment position=\"start\">\r\n            <Icon />\r\n          </InputAdornment>\r\n        )\r\n      }}\r\n    />\r\n    );\r\n  }\r\n}\r\n\r\nexport default Input;\r\n\r\n\r\n","import React from \"react\";\r\n\r\nimport getAuthorization from \"../redmine/getAuthorization\";\r\nimport { connect } from \"react-redux\";\r\n\r\nimport Button from \"@material-ui/core/Button\";\r\nimport Switch from \"@material-ui/core/Switch\";\r\nimport Box from \"@material-ui/core/Box\";\r\nimport { userInfo } from \"../actionCreators/userInfo\";\r\nimport { storeAuthorization } from \"../actionCreators/storeAuthorization\";\r\nimport { Typography } from \"@material-ui/core\";\r\nimport FormControlLabel from \"@material-ui/core/FormControlLabel\";\r\n\r\nimport Input from \"../components/Input\";\r\n\r\n\r\nconst mapStateToProps = state => {\r\n  return {\r\n    authorized: state.authorized\r\n  };\r\n};\r\n\r\nconst mapDispatchToProps = dispatch => {\r\n  return {\r\n    dispatchAuthorization: value => dispatch(storeAuthorization(value)),\r\n    dispatchUserInfo: (login, key, url) => dispatch(userInfo(login, key, url))\r\n  };\r\n};\r\n\r\nclass Login extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      logInByApi: false,\r\n      url: \"\",\r\n      api: \"\",\r\n      login: \"\",\r\n      password: \"\"\r\n    };\r\n  }\r\n\r\n  switchLogInByApi = () => {\r\n    this.setState({ logInByApi: !this.state.logInByApi });\r\n\r\n    this.setState({\r\n      api: '',\r\n      login: '',\r\n      password: ''\r\n    });\r\n  };\r\n\r\n  setAuthorization = response => {\r\n    response.then(e => {\r\n      if (e) {\r\n        let login = e.data.user.login;\r\n        let apiKey = e.data.user.api_key;\r\n\r\n        localStorage.setItem(\"url\", this.state.url);\r\n        localStorage.setItem(\"api\", apiKey);\r\n        localStorage.setItem(\"login\", login);\r\n\r\n        this.props.dispatchAuthorization(true);\r\n        //TODO зачем записывать api и url?\r\n        this.props.dispatchUserInfo(login, apiKey, this.state.url);\r\n      } else {\r\n        alert(\"Неверные данные\");\r\n      }\r\n    });\r\n  };\r\n\r\n  updComponent = () => {\r\n    let value;\r\n    if (this.state.logInByApi) {\r\n      value = getAuthorization('api', this.state.url, this.state.api);\r\n    } else {\r\n      value = getAuthorization('login', this.state.url, this.state.login, this.state.password);\r\n    }\r\n\r\n    this.setAuthorization(value);\r\n  };\r\n\r\n  handleSubmit = e => {\r\n    e.preventDefault();\r\n    this.updComponent(this.state.url, this.state.api);\r\n  };\r\n\r\n  setUrl = e => {\r\n    let url = e.target.value.trim(); // значение без пробелов\r\n    if (url.endsWith(\"/\")) {\r\n      url = url.substring(0, url.length - 1); // удалить последний символ\r\n    }\r\n    this.setState({ url: url });\r\n  };\r\n\r\n  setApi = e => {\r\n    this.setState({ api: e.target.value.trim() });\r\n  };\r\n\r\n  setLogin = e => {\r\n    this.setState({ login: e.target.value.trim() });\r\n  };\r\n\r\n  setPass = e => {\r\n    this.setState({ password: e.target.value.trim() });\r\n  };\r\n\r\n  render() {\r\n    const loginPass = (\r\n      <>\r\n        <Input\r\n          label=\"Логин\"\r\n          placeholder=\"Логин\"\r\n          onInput={this.setLogin}\r\n          icon={\"LockOpen\"}\r\n        />\r\n\r\n        <Input\r\n          label=\"Пароль\"\r\n          placeholder=\"****\"\r\n          type={'password'}\r\n          onInput={this.setPass}\r\n          icon={\"VpnKey\"}\r\n        />\r\n      </>\r\n    );\r\n\r\n    const api = (\r\n      <Input\r\n        label=\"Redmine Api\"\r\n        placeholder=\"api_key\"\r\n        onInput={this.setApi}\r\n        icon={\"VpnKey\"}\r\n      />\r\n    );\r\n\r\n    return (\r\n      <Box\r\n        component={\"form\"}\r\n        onSubmit={this.handleSubmit}\r\n        className={\"login-form\"}\r\n        mx=\"auto\"\r\n        display=\"flex\"\r\n        flexDirection=\"column\"\r\n      >\r\n        <Box className=\"login-form__switch\">\r\n        <FormControlLabel\r\n          title=\"Вход по api\"\r\n          label={\r\n            <Typography\r\n              color={this.state.logInByApi ? \"secondary\" : \"textPrimary\"}\r\n            >Вход по api</Typography>\r\n          }\r\n          control={\r\n            <Switch\r\n              checked={this.state.logInByApi}\r\n              onChange={this.switchLogInByApi}\r\n              value=\"logInByApi\"\r\n              color=\"secondary\"\r\n            />\r\n          }\r\n        />\r\n        </Box>\r\n\r\n        <Input\r\n          label=\"Redmine Url\"\r\n          placeholder=\"http://redmine.url.ru\"\r\n          onInput={this.setUrl}\r\n          icon={\"Language\"}\r\n        />\r\n\r\n        {this.state.logInByApi ? api : loginPass}\r\n\r\n        <Button\r\n          color=\"secondary\"\r\n          size=\"large\"\r\n          variant=\"outlined\"\r\n          title=\"Войти\"\r\n          type={\"submit\"}\r\n          disabled={!this.state.url || (this.state.logInByApi ? !this.state.api : !this.state.login || !this.state.password)}\r\n        >\r\n          Войти\r\n        </Button>\r\n      </Box>\r\n    );\r\n  }\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(Login);\r\n","import {UPD_USER_DATA} from \"../variables/actionTypes\";\r\n\r\nexport function userInfo(login, key, url) {\r\n  return {\r\n    type: UPD_USER_DATA,\r\n    login: login,\r\n    key: key,\r\n    url: url\r\n  };\r\n}","import axios from \"axios\";\r\n\r\nfunction getTasks() {\r\n  const url = localStorage.getItem('url');\r\n  const api = localStorage.getItem('api');\r\n\r\n  return axios.get(`${url}/issues.json?key=${api}&assigned_to_id=me`)\r\n    .then(response => {\r\n      return response;\r\n    })\r\n    .catch(function (error) {\r\n      console.log(\"getTasks => error \\n\", error);\r\n    });\r\n}\r\n\r\nexport default getTasks;\r\n\r\n\r\n","\r\nimport axios from \"axios\";\r\n\r\n\r\nconst getTypeActivity = () => {\r\n  const url = localStorage.getItem('url');\r\n  const api = localStorage.getItem('api');\r\n\r\n  if (!url || !api) return false;\r\n\r\n  return axios.get(`${url}/enumerations/time_entry_activities.json?key=${api}`)\r\n    .then(response => {\r\n      return response;\r\n    })\r\n    .catch(error => {\r\n      console.log(\"getTypeActivity => error \\n\", error);\r\n    });\r\n};\r\n\r\n\r\nexport default getTypeActivity;","import {createMuiTheme} from \"@material-ui/core/styles\";\r\nimport deepPurple from \"@material-ui/core/colors/deepPurple\";\r\nimport indigo from \"@material-ui/core/colors/indigo\";\r\nimport teal from \"@material-ui/core/colors/teal\";\r\nimport blueGrey from \"@material-ui/core/colors/blueGrey\";\r\nimport lime from \"@material-ui/core/colors/teal\";\r\n\r\n// export default createMuiTheme({\r\n//   palette: {\r\n//     primary: teal,\r\n//     secondary: indigo,\r\n//   },\r\n// });\r\n\r\n// export default createMuiTheme({\r\n//   palette: {\r\n//     primary: blueGrey,\r\n//     secondary: teal,\r\n\r\n//     type: 'dark',\r\n//   },\r\n// });\r\n\r\nexport default createMuiTheme({\r\n  palette: {\r\n    primary: {\r\n      main: \"#3D454C\",\r\n      dark: \"#29333A\",\r\n      light: \"#596069\",\r\n      contrastText: \"#F6F6FF\"\r\n    },\r\n\r\n    secondary: {\r\n      main: \"#59D366\",\r\n      dark: \"#169B4E\",\r\n      contrastText: \"#FFFFFF\"\r\n    },\r\n\r\n    text: {\r\n      primary: \"#FFFFFF\",\r\n      secondary: \"#F6F6FF\",\r\n    },\r\n\r\n    type: \"dark\",\r\n\r\n    overrides: {\r\n      MuiButton: {\r\n        root: {\r\n          minWidth: \"40px\",\r\n        }\r\n      },\r\n    },\r\n\r\n    stop: {\r\n      primary: {\r\n        main: \"#F9574B\",\r\n        dark: \"#C2110\",\r\n        contrastText: \"#FFFFFF\"\r\n      }\r\n    },\r\n  }\r\n});\r\n","// timeEntries\r\nimport axios from \"axios\";\r\n\r\nimport getAuthorization from \"./getAuthorization\";\r\n\r\n\r\n/**\r\n *\r\n * @param id\r\n * @param time\r\n * @param activity\r\n * @param comment\r\n * @returns {Promise<AxiosResponse<T>>|null}\r\n */\r\nconst timeEntries = (id, time, activity, comment) => {\r\n  const url = localStorage.getItem('url');\r\n  const api = localStorage.getItem('api');\r\n\r\n  if (!url || !api || !time || !id) return null;\r\n\r\n  let data = {\r\n    time_entry: {\r\n      issue_id: id,\r\n      hours: time,\r\n      activity_id: activity ? activity : 9,\r\n      comments: comment ? comment : ''\r\n    }\r\n  };\r\n\r\n  return axios.post(`${url}/time_entries.json?key=${api}`, data)\r\n    .then(response => {\r\n      return response;\r\n    })\r\n    .catch(error => {\r\n      console.log(\"timeEntries => error \\n\", error);\r\n    });\r\n};\r\n\r\n\r\nexport default timeEntries;","// alert\r\n\r\nimport {UPD_NOTICE} from \"../variables/actionTypes\";\r\n\r\nexport function notice(show, type, text) {\r\n  return {\r\n    type: UPD_NOTICE,\r\n    notice: {\r\n      show: show,\r\n      type: type,\r\n      text: text\r\n    }\r\n  };\r\n}","import React from \"react\";\r\n\r\nimport Alert from '@material-ui/lab/Alert';\r\nimport Snackbar from '@material-ui/core/Snackbar';\r\n\r\nimport {connect} from \"react-redux\";\r\n\r\nimport {notice} from '../actionCreators/notice';\r\n\r\nconst mapStateToProps = state => {\r\n  return {\r\n    show: state.application.notice.show,\r\n    type: state.application.notice.type,\r\n    text: state.application.notice.text,\r\n  };\r\n};\r\n\r\nconst mapDispatchToProps = dispatch => {\r\n  return {\r\n    dispatchNotice: value => dispatch(notice(value)),\r\n  };\r\n};\r\n\r\n\r\nclass Notice extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n  }\r\n\r\n  close = () => {\r\n    this.props.dispatchNotice(false);\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <Snackbar\r\n        open={this.props.show}\r\n        autoHideDuration={6000}\r\n        onClose={this.close}\r\n      >\r\n        <Alert\r\n          variant=\"filled\"\r\n          severity={this.props.type}\r\n          onClose={this.close}\r\n        >\r\n          {this.props.text}\r\n        </Alert>\r\n      </Snackbar>\r\n    )\r\n  }\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(Notice);\r\n\r\n","import React from \"react\";\r\nimport * as IconsLib from \"@material-ui/icons\";\r\nimport Chip from \"@material-ui/core/Chip\";\r\nimport Typography from \"@material-ui/core/Typography\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport Grid from \"@material-ui/core/Grid\";\r\nimport Divider from \"@material-ui/core/Divider\";\r\nimport Box from \"@material-ui/core/Box\";\r\nimport MyTheme from \"../MyTheme\";\r\nimport {MuiThemeProvider, createMuiTheme} from \"@material-ui/core/styles\";\r\nimport MenuItem from '@material-ui/core/MenuItem';\r\nimport FormControl from '@material-ui/core/FormControl';\r\nimport Select from '@material-ui/core/Select';\r\nimport TextField from '@material-ui/core/TextField';\r\n\r\nimport {withStyles} from \"@material-ui/core/styles\";\r\n\r\nimport ExpansionPanel from '@material-ui/core/ExpansionPanel';\r\nimport ExpansionPanelSummary from '@material-ui/core/ExpansionPanelSummary';\r\nimport ExpansionPanelDetails from '@material-ui/core/ExpansionPanelDetails';\r\n\r\n\r\nimport Timer from 'react-compound-timer';\r\n\r\nimport timeEntries from '../redmine/timeEntries';\r\n\r\nimport Notice from '../components/Notice';\r\nimport {notice} from \"../actionCreators/notice\";\r\nimport {notSavedData} from \"../actionCreators/notSavedData\";\r\n\r\nimport {connect} from \"react-redux\";\r\n\r\n\r\nconst mapStateToProps = state => {\r\n  return {\r\n    show: state.application.notice.show,\r\n    type: state.application.notice.type,\r\n    text: state.application.notice.text,\r\n    notSavedData: state.application.notSavedData\r\n  };\r\n};\r\n\r\nconst mapDispatchToProps = dispatch => {\r\n  return {\r\n    dispatchNotice: (show, type, text) => dispatch(notice(show, type, text)),\r\n    dispatchNotSavedData: value => dispatch(notSavedData(value)),\r\n  };\r\n};\r\n\r\n\r\nconst redTheme = createMuiTheme(MyTheme.palette.stop);\r\n\r\nconst useStyles = theme => ({\r\n  root: {\r\n    background: MyTheme.palette.primary.light,\r\n  },\r\n  activity: {\r\n    width: '100%'\r\n  },\r\n});\r\n\r\n\r\nclass Task extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      play: false,\r\n      seconds: 0,\r\n      minutes: 0,\r\n      hours: 0,\r\n      timer: 0,\r\n      activity: Object.keys(this.props.activities)[0],\r\n      comment: '',\r\n    };\r\n  }\r\n\r\n  changeActivity = (e) => {\r\n    this.setState({activity: e.target.value});\r\n  };\r\n\r\n  changeComment = (e) => {\r\n    this.setState({comment: e.target.value});\r\n  };\r\n\r\n  switchPlay = (value) => {\r\n    this.setState({play: value ? value : !this.state.play});\r\n  };\r\n\r\n  startTimer = () => {\r\n    this.switchPlay(true);\r\n    this.props.dispatchNotSavedData(true);\r\n  };\r\n\r\n  stopTimer = (milliseconds) => {\r\n    let hours = (milliseconds / (1000 * 60 * 60)).toFixed(2);\r\n\r\n    this.switchPlay(false);\r\n\r\n    //TODO вкл/выкл отправку времени\r\n    let entries = timeEntries(this.props.id, hours, this.state.activity, this.state.comment);\r\n    this.feedback(entries);\r\n\r\n    this.props.dispatchNotSavedData(false);\r\n  };\r\n\r\n  feedback = (response) => {\r\n    response.then(e => {\r\n      if (e) {\r\n        this.props.dispatchNotice(true, 'success', 'Время учтено');\r\n      } else {\r\n        this.props.dispatchNotice(true, 'error', 'Ошибка при отправке данных');\r\n      }\r\n    });\r\n  };\r\n\r\n  componentWillUnmount() {\r\n    this.props.dispatchNotSavedData(false);\r\n  }\r\n\r\n\r\n  render() {\r\n    const {classes} = this.props;\r\n\r\n    let activityKeys = Object.keys(this.props.activities);\r\n    let activityValues = Object.values(this.props.activities);\r\n\r\n    let activities = activityKeys.map((elem, i) => {\r\n      return (\r\n        <MenuItem key={i} value={elem}>{activityValues[i]}</MenuItem>\r\n      );\r\n    });\r\n\r\n    return (\r\n      <ExpansionPanel className={classes.root}>\r\n\r\n        <ExpansionPanelSummary expandIcon={<IconsLib.ExpandMore/>}>\r\n\r\n          <Grid container spacing={2}>\r\n\r\n            <Grid item xs={12} sm={8} md={9}>\r\n              <Typography color=\"textSecondary\" variant=\"caption\">\r\n                {this.props.id} {this.props.project}\r\n              </Typography>\r\n\r\n              <Typography\r\n                variant=\"body2\"\r\n                gutterBottom\r\n                component=\"h3\"\r\n                color=\"inherit\"\r\n              >{this.props.subject}</Typography>\r\n            </Grid>\r\n\r\n            <Grid\r\n              container\r\n              item\r\n              xs={12}\r\n              sm={4}\r\n              md={3}\r\n              className={'timer-wp'}\r\n              alignItems=\"center\"\r\n              justify=\"space-between\">\r\n\r\n              <Timer\r\n                startImmediately={false}\r\n                formatValue={(value) => `${(value < 10 ? `0${value}` : value)}`}\r\n                onStart={() => this.startTimer()}>\r\n                {({start, resume, pause, stop, reset, getTimerState, getTime}) => (\r\n                  <>\r\n                    <MuiThemeProvider theme={this.state.play ? redTheme : MyTheme}>\r\n                      <Button\r\n                        disabled={(this.props.notSavedData && !this.state.play) ? true : null}\r\n                        className={'extends-panel__btn'}\r\n                        theme={this.state.play ? redTheme : MyTheme}\r\n                        variant={\"outlined\"}\r\n                        size=\"small\"\r\n                        color={\"secondary\"}\r\n                        onClick={this.state.play ?\r\n                          (e) => {\r\n                            e.stopPropagation();\r\n                            stop();\r\n                            this.stopTimer(getTime());\r\n                            reset();\r\n                          }\r\n                          :\r\n                          (e) => {\r\n                            e.stopPropagation();\r\n                            start();\r\n                          }\r\n                        }\r\n                      >\r\n                        {this.state.play ? (\r\n                          <IconsLib.Stop color=\"secondary\"/>\r\n                        ) : (\r\n                          <IconsLib.PlayArrow color={(this.props.notSavedData && !this.state.play) ? 'primary' : 'secondary'}/>\r\n                        )}\r\n                      </Button>\r\n                      <Box m={1}/>\r\n                      <Timer.Hours/>:<Timer.Minutes/>:<Timer.Seconds/>\r\n                    </MuiThemeProvider>\r\n                  </>\r\n                )}\r\n              </Timer>\r\n\r\n            </Grid>\r\n          </Grid>\r\n        </ExpansionPanelSummary>\r\n\r\n        <ExpansionPanelDetails>\r\n\r\n          <Grid container spacing={2}>\r\n            <Grid item xs={12} sm={6} md={8}>\r\n              <TextField\r\n                variant=\"outlined\"\r\n                multiline\r\n                className={'textarea'}\r\n                fullWidth\r\n                value={this.state.comment}\r\n                onChange={this.changeComment}\r\n                inputProps={{maxLength: 255}}\r\n              />\r\n            </Grid>\r\n\r\n            <Grid item xs={12} sm={6} md={4}>\r\n              <Box mb={1}>\r\n                <FormControl className={classes.activity}>\r\n                  <Select value={this.state.activity} onChange={this.changeActivity}>\r\n                    {activities}\r\n                  </Select>\r\n                </FormControl>\r\n              </Box>\r\n\r\n              {this.props.priority &&\r\n              <Chip variant=\"outlined\" size=\"small\" label={`${this.props.priority}`}/>\r\n              }\r\n\r\n              {this.props.estimated_hours &&\r\n              <Chip variant=\"outlined\" size=\"small\" label={`План: ${this.props.estimated_hours}ч`}/>\r\n              }\r\n\r\n              {this.props.spent_hours > 0 &&\r\n              <Chip variant=\"outlined\" size=\"small\" label={`Учтено: ${this.props.spent_hours.toFixed(2)}ч`}/>\r\n              }\r\n\r\n              {this.props.start_date && this.props.due_date &&\r\n              <Chip variant=\"outlined\" size=\"small\" label={`c ${this.props.start_date} до ${this.props.due_date}`}/>\r\n              }\r\n\r\n            </Grid>\r\n          </Grid>\r\n\r\n\r\n        </ExpansionPanelDetails>\r\n      </ExpansionPanel>\r\n    );\r\n  }\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(withStyles(useStyles)(Task));\r\n\r\n\r\n","\r\nimport {UPD_NOT_SAVED_DATA} from \"../variables/actionTypes\";\r\n\r\nexport function notSavedData(value) {\r\n  return {\r\n    type: UPD_NOT_SAVED_DATA,\r\n    value\r\n  };\r\n}","import React from \"react\";\r\n\r\nimport getTasks from '../redmine/getTasks';\r\nimport getTypeActivity from '../redmine/getTypeActivity';\r\nimport * as IconsLib from \"@material-ui/icons\";\r\n\r\nimport { connect } from 'react-redux';\r\nimport Task from '../components/Task';\r\n\r\nimport { tasks } from \"../actionCreators/tasks\";\r\nimport { activities } from \"../actionCreators/activities\";\r\nimport Box from '@material-ui/core/Box';\r\nimport Skeleton from '@material-ui/lab/Skeleton';\r\n\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n    tasks: state.tasks,\r\n    activities: state.activities,\r\n  }\r\n};\r\n\r\nconst mapDispatchToProps = dispatch => {\r\n  return {\r\n    dispatchTasks: (value) => dispatch(tasks(value)),\r\n    dispatchActivities: (value) => dispatch(activities(value)),\r\n  }\r\n};\r\n\r\nclass Tasks extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      isLoading: true\r\n    };\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.showCurrentComponent();\r\n    };\r\n\r\n  showCurrentComponent = () => {\r\n    let value = getTasks();\r\n    this.setTasks(value);\r\n\r\n    let activities = getTypeActivity();\r\n    this.setActivities(activities);\r\n  };\r\n\r\n  setTasks = (response) => {\r\n    response.then(e => {\r\n      if (e) {\r\n        let tasks = e.data.issues;\r\n        this.props.dispatchTasks(tasks);\r\n\r\n        this.setLoaded();\r\n      } else {\r\n        console.log('Ошибка в setTasks. Попробуйте перезагрузить страницу');\r\n      }\r\n    });\r\n  };\r\n\r\n  setActivities = (response) => {\r\n    response.then(e => {\r\n      if (e) {\r\n        let activities = e.data.time_entry_activities;\r\n\r\n        let result = {};\r\n        activities.forEach(elem => result[elem.id] = elem.name);\r\n\r\n        this.props.dispatchActivities(result);     \r\n      }\r\n    });\r\n  }\r\n\r\n  setLoaded = () => {\r\n    this.setState({\r\n      isLoading: false\r\n    });\r\n  };\r\n\r\n  render() {\r\n    let tasks = Object.values(this.props.tasks);\r\n\r\n    let tasksList = tasks.map((elem, index) => {\r\n      return (\r\n        <li key={index} className={'task'}>\r\n          <Task\r\n            id={elem.id}\r\n            subject={elem.subject}\r\n            priority={elem.priority.name}\r\n            project={elem.project.name}\r\n            status={elem.status.name}\r\n            start_date={elem.start_date}\r\n            due_date={elem.due_date}\r\n            estimated_hours={elem.estimated_hours}\r\n            spent_hours={elem.spent_hours}\r\n            activities={this.props.activities}\r\n          />\r\n        </li>\r\n      )\r\n    });\r\n\r\n    let skeleton = (\r\n      <Box\r\n        component={\"li\"}\r\n        my={3}\r\n      >\r\n        <Skeleton height={40} />\r\n        <Skeleton height={40} />\r\n        <Skeleton height={40} />\r\n      </Box>\r\n    );\r\n\r\n    return (\r\n      <ul className=\"clear-list tasks-list\">\r\n        {this.state.isLoading ?\r\n          <>\r\n            {skeleton}\r\n            {skeleton}\r\n            {skeleton}\r\n          </>\r\n          :\r\n          tasksList\r\n        }\r\n      </ul>\r\n    );\r\n  }\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(Tasks);","import {UPD_TASKS} from \"../variables/actionTypes\";\r\n\r\nexport function tasks(value) {\r\n  return {\r\n    type: UPD_TASKS,\r\n    value\r\n  }\r\n}","// activities\r\n\r\nimport {UPD_ACTIVITIES} from \"../variables/actionTypes\";\r\n\r\nexport function activities(value) {\r\n  return {\r\n    type: UPD_ACTIVITIES,\r\n    value\r\n  };\r\n}","// PieChart\r\n\r\n\r\nimport React from \"react\";\r\n\r\n\r\nimport Typography from \"@material-ui/core/Typography\";\r\nimport Box from \"@material-ui/core/Box\";\r\n\r\nimport {\r\n  CircularProgressbarWithChildren,\r\n  buildStyles\r\n} from \"react-circular-progressbar\";\r\nimport \"react-circular-progressbar/dist/styles.css\";\r\n\r\n\r\nimport CircularProgress from \"@material-ui/core/CircularProgress\";\r\n\r\n\r\nclass PieChart extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <Box className={'pie-chart'}>\r\n        <CircularProgressbarWithChildren\r\n          value={this.props.percent}\r\n          styles={buildStyles({\r\n            textColor: \"#F6F6FF\",\r\n            pathColor: \"#59D366\",\r\n            trailColor: \"#29333A\"\r\n          })}\r\n        >\r\n          <Typography color=\"textPrimary\" variant=\"caption\">\r\n            {this.props.text}\r\n          </Typography>\r\n          <Typography variant=\"h4\" color=\"textSecondary\">\r\n            {this.props.isLoading ? <CircularProgress color=\"secondary\" size={20}/> : this.props.hours}\r\n          </Typography>\r\n        </CircularProgressbarWithChildren>\r\n\r\n        <Box m={3}>\r\n          <Typography variant=\"h6\" color=\"textPrimary\">\r\n            {this.props.percent}%\r\n          </Typography>\r\n        </Box>\r\n\r\n      </Box>\r\n    );\r\n  }\r\n}\r\n\r\nexport default PieChart;\r\n","import axios from \"axios\";\r\n\r\n\r\nfunction getStatistics(period) {\r\n  const url = localStorage.getItem('url');\r\n  const api = localStorage.getItem('api');\r\n\r\n  return axios.get(`${url}/time_entries.json?key=${api}&${period}&user_id=me&=hours&limit=100`)\r\n    .then(response => {\r\n      return response;\r\n    })\r\n    .catch(function (error) {\r\n      console.log(\"getStatistics => error \\n\", error);\r\n    });\r\n}\r\n\r\nexport default getStatistics;","// commandGetStatistics\r\n\r\nconst date = new Date();\r\n\r\nconst _year = date.getFullYear();\r\nconst _month = (date.getMonth() + 1) >= 10 ? date.getMonth() + 1 : `0${date.getMonth() + 1}`; // чтобы отчёт начинался с 1, а не с 0\r\nconst _day = date.getDate() >= 0 ? date.getDate() : `0${date.getDate()}`;\r\nconst _weekday = date.getDay() === 0 ? 6 : date.getDay() - 1; // чтобы начинать отсчёт с Пн, а не в Вс\r\nconst _firstDayWeek = (+_day - +_weekday) >= 10 ? +_day - +_weekday : `0${+_day - +_weekday}`;\r\n\r\nconst today = `${_year}-${_month}-${_day}`;\r\nconst weekStarted = `${_year}-${_month}-${_firstDayWeek}`;\r\n// const monthStarted = `${_year}-${_month}-01`;\r\n\r\nconst getMonthCommands = () => {\r\n  const n1 = 7;\r\n  const n2 = 14;\r\n  const n3 = 21;\r\n  let lastN = '01';\r\n\r\n  let monthCommands = [];\r\n\r\n  if (_day > n1) {\r\n    let n = n1 < 10 ? `0${n1}` : n1;\r\n    let command = `from=${_year}-${_month}-${lastN}&to=${_year}-${_month}-${n}`;\r\n    lastN = (n1 + 1) < 10 ? `0${n1 + 1}` : n1 + 1;\r\n    monthCommands.push(command);\r\n  }\r\n\r\n  if (_day > n2) {\r\n    let n = n2 < 10 ? `0${n2}` : n2;\r\n    let command = `from=${_year}-${_month}-${lastN}&to=${_year}-${_month}-${n}`;\r\n    lastN = (n2 + 1) < 10 ? `0${n2 + 1}` : n2 + 1;\r\n    monthCommands.push(command);\r\n  }\r\n\r\n  if (_day > n3) {\r\n    let n = n3 < 10 ? `0${n3}` : n3;\r\n    let command = `from=${_year}-${_month}-${lastN}&to=${_year}-${_month}-${n}`;\r\n    lastN = (n3 + 1) < 10 ? `0${n3 + 1}` : n3 + 1;\r\n    monthCommands.push(command);\r\n  }\r\n\r\n  const lastCommandForMonth = `from=${_year}-${_month}-${lastN}&to=${_year}-${_month}-${_day}`;\r\n  monthCommands.push(lastCommandForMonth);\r\n\r\n  return monthCommands;\r\n};\r\n\r\n// *** export\r\nexport const periodToday = `from=${today}&to=${today}`;\r\nexport const periodWeek = `from=${weekStarted}&to=${today}`;\r\nexport const periodMonth = getMonthCommands();\r\n","import React from \"react\";\r\n\r\nimport * as IconsLib from \"@material-ui/icons\";\r\n\r\n\r\nimport PieChart from '../components/PieChart';\r\n\r\nimport {connect} from \"react-redux\";\r\n\r\nimport getStatistics from \"../redmine/getStatistics\";\r\nimport {\r\n  periodToday,\r\n  periodWeek,\r\n  periodMonth\r\n} from \"../functions/commandGetStatistics\";\r\nimport Grid from \"@material-ui/core/Grid\";\r\nimport {statistics} from \"../actionCreators/statistics\";\r\n\r\n\r\nconst mapStateToProps = state => {\r\n  return {\r\n    day: state.statistics.day,\r\n    week: state.statistics.week,\r\n    month: state.statistics.month\r\n  };\r\n};\r\n\r\nconst mapDispatchToProps = dispatch => {\r\n  return {\r\n    dispatchStatistics: (name, value) => dispatch(statistics(name, value)),\r\n  };\r\n};\r\n\r\nclass Statistics extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      isLoadingDay: true,\r\n      isLoadingWeek: true,\r\n      isLoadingMonth: true,\r\n    };\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.props.dispatchStatistics(\"month\", 0); // обнулить статистику за месяц\r\n\r\n    this.showCurrentComponent(periodToday, \"day\", 'isLoadingDay');\r\n    this.showCurrentComponent(periodWeek, \"week\", 'isLoadingWeek');\r\n    // this.showCurrentComponent(periodMonth, \"month\", 'isLoadingMonth');\r\n\r\n    //TODO поискать другой способ вывода статистики за месяц\r\n    // из-за лимита в 100 результатов приходится отправлять несколько запросов,\r\n    // а потом соединять результат\r\n    periodMonth.forEach((elem, index) => {\r\n      if (index === periodMonth.length - 1) {\r\n        this.showCurrentComponent(elem, \"month\", 'isLoadingMonth');\r\n      } else {\r\n        this.showCurrentComponent(elem, \"month\");\r\n      }\r\n    })\r\n  };\r\n\r\n  showCurrentComponent = (period, name, isLoadingName) => {\r\n    let value = getStatistics(period);\r\n    this.setStatistics(name, value, isLoadingName);\r\n  };\r\n\r\n  setStatistics = (name, response, isLoadingName) => {\r\n    response.then(e => {\r\n      if (e) {\r\n        const data = e.data.time_entries;\r\n        let hours = 0;\r\n        data.forEach(elem => hours += elem.hours);\r\n        hours = +hours.toFixed(2);\r\n\r\n        if (name === 'month') {\r\n          this.props.dispatchStatistics(name, +(hours + this.props.month).toFixed(2));\r\n        } else {\r\n          this.props.dispatchStatistics(name, hours);\r\n        }\r\n\r\n        if (isLoadingName) this.setLoaded(isLoadingName);\r\n      } else {\r\n        alert('Ошибка в setStatistics. Попробуйте перезагрузить страницу');\r\n      }\r\n    });\r\n  };\r\n\r\n  setLoaded = (name) => {\r\n    this.setState({\r\n      [name]: false\r\n    });\r\n  };\r\n\r\n  render() {\r\n    let dayPercent = (this.props.day * 100 / 8).toFixed(2);\r\n    let weekPercent = (this.props.week * 100 / 40).toFixed(2);\r\n    let monthPercent = (this.props.month * 100 / 160).toFixed(2);\r\n\r\n    return (\r\n      <Grid container justify=\"center\" alignItems=\"center\">\r\n        <Grid item xs={12} sm={6} md={4}>\r\n          <PieChart\r\n            percent={dayPercent}\r\n            text={'За день'}\r\n            hours={this.props.day}\r\n            isLoading={this.state.isLoadingDay}\r\n          />\r\n        </Grid>\r\n        <Grid item xs={12} sm={6} md={4}>\r\n          <PieChart\r\n            percent={weekPercent}\r\n            text={'За неделю'}\r\n            hours={this.props.week}\r\n            isLoading={this.state.isLoadingWeek}\r\n          />\r\n        </Grid>\r\n        <Grid item xs={12} sm={6} md={4}>\r\n          <PieChart\r\n            percent={monthPercent}\r\n            text={'За месяц'}\r\n            hours={this.props.month}\r\n            isLoading={this.state.isLoadingMonth}\r\n          />\r\n        </Grid>\r\n      </Grid>\r\n    );\r\n  }\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(Statistics);\r\n","// statistics\r\nimport {UPD_STATISTICS} from \"../variables/actionTypes\";\r\n\r\nexport function statistics(name, value) {\r\n  return {\r\n    type: UPD_STATISTICS,\r\n    name: name,\r\n    value: value\r\n  };\r\n}","\r\nimport {UPD_MODAL} from \"../variables/actionTypes\";\r\n\r\nexport function modal(show, title, text) {\r\n  return {\r\n    type: UPD_MODAL,\r\n    modal: {\r\n      show: show,\r\n      title: title,\r\n      text: text\r\n    }\r\n  };\r\n}","// Preloader\r\n\r\nimport React from \"react\";\r\n\r\n\r\nimport Box from \"@material-ui/core/Box\";\r\nimport CircularProgress from \"@material-ui/core/CircularProgress\";\r\n\r\n\r\nclass Preloader extends React.Component {\r\n  render() {\r\n    return (\r\n      <Box bgcolor=\"primary.dark\" className={'preloader'}>\r\n        <CircularProgress color=\"secondary\" size={100} />\r\n      </Box>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Preloader;\r\n\r\n\r\n","import React from \"react\";\r\n\r\nimport Alert from '@material-ui/lab/Alert';\r\nimport Snackbar from '@material-ui/core/Snackbar';\r\n\r\nimport Dialog from '@material-ui/core/Dialog';\r\nimport DialogActions from '@material-ui/core/DialogActions';\r\nimport DialogContent from '@material-ui/core/DialogContent';\r\nimport DialogContentText from '@material-ui/core/DialogContentText';\r\nimport DialogTitle from '@material-ui/core/DialogTitle';\r\nimport Button from '@material-ui/core/Button';\r\n\r\nimport { connect } from \"react-redux\";\r\n\r\nimport { modal } from '../actionCreators/modal';\r\n\r\nconst mapStateToProps = state => {\r\n  return {\r\n    show: state.application.modal.show,\r\n    title: state.application.modal.title,\r\n    text: state.application.modal.text,\r\n  };\r\n};\r\n\r\nconst mapDispatchToProps = dispatch => {\r\n  return {\r\n    dispatchModal: (show, title, text) => dispatch(modal(show, title, text)),\r\n  };\r\n};\r\n\r\n\r\nclass Modal extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n  }\r\n\r\n  close = () => {\r\n    this.props.dispatchModal(false);\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <Dialog\r\n        open={this.props.show}\r\n        onClose={this.close}\r\n        aria-labelledby=\"alert-dialog-title\"\r\n        aria-describedby=\"alert-dialog-description\"\r\n      >\r\n        {this.props.title && <DialogTitle>{this.props.title}</DialogTitle>}\r\n\r\n        {this.props.text &&\r\n          <DialogContent>\r\n            <DialogContentText >\r\n              {this.props.text}\r\n            </DialogContentText>\r\n          </DialogContent>\r\n        }\r\n\r\n        <DialogActions>\r\n          <Button onClick={this.close} color=\"secondary\" autoFocus>\r\n            Закрыть\r\n          </Button>\r\n        </DialogActions>\r\n\r\n      </Dialog>\r\n    )\r\n  }\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(Modal);\r\n\r\n","\r\nimport React from \"react\";\r\nimport { connect } from 'react-redux';\r\nimport Box from '@material-ui/core/Box';\r\nimport Button from '@material-ui/core/Button';\r\nimport Drawer from '@material-ui/core/Drawer';\r\nimport { mobileMenu } from \"../actionCreators/mobileMenu\";\r\nimport List from '@material-ui/core/List';\r\nimport ListItem from '@material-ui/core/ListItem';\r\nimport { Redirect, Route, Switch, Prompt, Link } from 'react-router-dom';\r\nimport * as IconsLib from \"@material-ui/icons\";\r\nimport { Divider } from \"@material-ui/core\";\r\n\r\n\r\n\r\n\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n    showMobileMenu: state.application.showMobileMenu,\r\n  }\r\n};\r\n\r\n\r\nconst mapDispatchToProps = dispatch => {\r\n  return {\r\n    dispatchMobileMenu: (value) => dispatch(mobileMenu(value)),\r\n  }\r\n};\r\n\r\nclass MobileMenu extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n  }\r\n\r\n  closeDrawer = () => {\r\n    this.props.dispatchMobileMenu(false);\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <Drawer\r\n        anchor=\"left\"\r\n        open={this.props.showMobileMenu}\r\n        onClose={this.closeDrawer}\r\n      >\r\n\r\n        <List>\r\n          <ListItem  >\r\n            <Link to=\"/tasks\" className={\"clear-link-style fullwidth\"} >\r\n              <Button color=\"inherit\" fullWidth onClick={this.closeDrawer}>\r\n                Задачи\r\n              </Button>\r\n            </Link>\r\n          </ListItem>\r\n\r\n          <ListItem  >\r\n            <Link to=\"/statistics\" className={\"clear-link-style fullwidth\"}>\r\n              <Button color=\"inherit\" fullWidth onClick={this.closeDrawer}>\r\n                Статистика\r\n              </Button>\r\n            </Link>\r\n          </ListItem>\r\n\r\n        </List>\r\n\r\n      </Drawer >\r\n    );\r\n  }\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(MobileMenu);","import React from \"react\";\r\n\r\nimport \"./App.css\";\r\n\r\nimport PageHeader from \"./components/PageHeader\";\r\n\r\nimport { connect } from 'react-redux';\r\n\r\nimport Login from './pages/Login';\r\nimport Tasks from './pages/Tasks';\r\nimport Statistics from './pages/Statistics';\r\nimport Button from '@material-ui/core/Button';\r\nimport Box from '@material-ui/core/Box';\r\nimport Drawer from '@material-ui/core/Drawer';\r\nimport getAuthorization from './redmine/getAuthorization';\r\nimport { Redirect, Route, Switch, Prompt, Link } from 'react-router-dom';\r\n\r\nimport { MuiThemeProvider } from '@material-ui/core/styles';\r\nimport MyTheme from './MyTheme';\r\nimport { storeAuthorization } from \"./actionCreators/storeAuthorization\";\r\nimport { storeLogin } from \"./actionCreators/storeLogin\";\r\nimport { modal } from './actionCreators/modal';\r\n\r\nimport Preloader from './components/Preloader';\r\nimport Notice from './components/Notice';\r\nimport Modal from './components/Modal';\r\nimport MobileMenu from './components/MobileMenu';\r\n\r\n\r\n\r\nimport List from '@material-ui/core/List';\r\nimport Divider from '@material-ui/core/Divider';\r\nimport ListItem from '@material-ui/core/ListItem';\r\nimport ListItemIcon from '@material-ui/core/ListItemIcon';\r\nimport ListItemText from '@material-ui/core/ListItemText';\r\n\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n    authorized: state.authorized,\r\n    notSavedData: state.application.notSavedData,\r\n  }\r\n};\r\n\r\n\r\nconst mapDispatchToProps = dispatch => {\r\n  return {\r\n    dispatchAuthorization: (value) => dispatch(storeAuthorization(value)),\r\n    dispatchLogin: (value) => dispatch(storeLogin(value)),\r\n    dispatchModal: (show, title, text) => dispatch(modal(show, title, text)),\r\n  }\r\n};\r\n\r\nclass App extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      isLoading: true,\r\n      showDrawer: false,\r\n    };\r\n  }\r\n\r\n  componentDidMount() {\r\n    const url = localStorage.getItem('url');\r\n    const api = localStorage.getItem('api');\r\n\r\n    if (url && api) {\r\n      let value = getAuthorization(\"api\", url, api);\r\n      this.setAuthorization(value);\r\n    } else {\r\n      this.setState({ isLoading: false });\r\n    }\r\n\r\n    window.addEventListener(\"beforeunload\", this.handleWindowBeforeUnload);\r\n  };\r\n\r\n  componentWillUnmount() {\r\n    window.removeEventListener(\"beforeunload\", this.handleWindowBeforeUnload);\r\n  };\r\n\r\n  // закрытие/перезагрузка при несохранённых данных\r\n  handleWindowBeforeUnload = (e) => {\r\n    if (this.props.notSavedData) {\r\n      e.preventDefault();\r\n      e.returnValue = true;\r\n\r\n      // let title = 'Данные не сохранены';\r\n      // let text = 'Нужно остановить таймер, чтобы отправить данные в Redmine.';\r\n      // this.props.dispatchModal(true, title, text);\r\n    }\r\n  };\r\n\r\n  setAuthorization = (response) => {\r\n    response.then(e => {\r\n      if (e) {\r\n        this.props.dispatchAuthorization(true);\r\n\r\n        const login = localStorage.getItem('login');\r\n        this.props.dispatchLogin(login);\r\n\r\n        this.setState({ isLoading: false });\r\n      } else {\r\n        alert('Ошибка при авторизации');\r\n      }\r\n    });\r\n  };\r\n\r\n  toggleDrawer = (side, open) => e => {\r\n    if (e.type === 'keydown' && (e.key === 'Tab' || e.key === 'Shift')) {\r\n      return;\r\n    }\r\n\r\n    this.setState({ showDrawer: open });\r\n  }\r\n\r\n  render() {\r\n    let authorized = this.props.authorized;\r\n\r\n    return (\r\n      <MuiThemeProvider theme={MyTheme}>\r\n        <Box className=\"App\" bgcolor=\"primary.main\">\r\n\r\n          {this.state.isLoading && <Preloader />}\r\n\r\n          {authorized && <PageHeader />}\r\n\r\n          <Box component={'main'} className={'main-content'}>\r\n\r\n            {/* TODO выбрать между этими блоками */}\r\n            {/* {authorized ?\r\n              <Switch>\r\n                <Route exact path='/' render={() => (authorized ? (<Tasks />) : (<Redirect to=\"/login\" />))} />\r\n                <Route exact path='/tasks' render={() => (authorized ? (<Tasks />) : (<Redirect to=\"/login\" />))} />\r\n                <Route exact path='/statistics' render={() => (authorized ? (<Statistics />) : (<Redirect to=\"/login\" />))} />\r\n                <Route exact path='/login' render={() => (authorized ? (<Redirect to=\"/\" />) : (<Login />))} />\r\n              </Switch>\r\n              :\r\n              <Login />\r\n            } */}\r\n\r\n            {authorized ?\r\n              <Switch>\r\n                <Route exact path=\"/\"><Tasks /></Route>\r\n                <Route exact path=\"/tasks\"><Tasks /></Route>\r\n                <Route exact path=\"/statistics\"><Statistics /></Route>\r\n                <Route exact path=\"/login\"><Login /></Route>\r\n              </Switch>\r\n              :\r\n              <Login />\r\n            }\r\n\r\n          </Box>\r\n        </Box>\r\n\r\n\r\n        <Notice />\r\n        <Modal />\r\n        <MobileMenu />\r\n        <Prompt\r\n          when={this.props.notSavedData}\r\n          message={`Данные не сохранены. Нужно остановить таймер, чтобы отправить данные в Redmine.`}\r\n        />\r\n\r\n\r\n      </MuiThemeProvider >\r\n    );\r\n  }\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(App);","import {UPD_LOGIN} from \"../variables/actionTypes\";\r\n\r\nexport function storeLogin(login) {\r\n  return {\r\n    type: UPD_LOGIN,\r\n    login: login\r\n  };\r\n}","// This optional code is used to register a service worker.\r\n// register() is not called by default.\r\n\r\n// This lets the app load faster on subsequent visits in production, and gives\r\n// it offline capabilities. However, it also means that developers (and users)\r\n// will only see deployed updates on subsequent visits to a page, after all the\r\n// existing tabs open on the page have been closed, since previously cached\r\n// resources are updated in the background.\r\n\r\n// To learn more about the benefits of this model and instructions on how to\r\n// opt-in, read https://bit.ly/CRA-PWA\r\n\r\nconst isLocalhost = Boolean(\r\n  window.location.hostname === 'localhost' ||\r\n    // [::1] is the IPv6 localhost address.\r\n    window.location.hostname === '[::1]' ||\r\n    // 127.0.0.0/8 are considered localhost for IPv4.\r\n    window.location.hostname.match(\r\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\r\n    )\r\n);\r\n\r\nexport function register(config) {\r\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\r\n    // The URL constructor is available in all browsers that support SW.\r\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\r\n    if (publicUrl.origin !== window.location.origin) {\r\n      // Our service worker won't work if PUBLIC_URL is on a different origin\r\n      // from what our page is served on. This might happen if a CDN is used to\r\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\r\n      return;\r\n    }\r\n\r\n    window.addEventListener('load', () => {\r\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\r\n\r\n      if (isLocalhost) {\r\n        // This is running on localhost. Let's check if a service worker still exists or not.\r\n        checkValidServiceWorker(swUrl, config);\r\n\r\n        // Add some additional logging to localhost, pointing developers to the\r\n        // service worker/PWA documentation.\r\n        navigator.serviceWorker.ready.then(() => {\r\n          console.log(\r\n            'This web app is being served cache-first by a service ' +\r\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\r\n          );\r\n        });\r\n      } else {\r\n        // Is not localhost. Just register service worker\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\nfunction registerValidSW(swUrl, config) {\r\n  navigator.serviceWorker\r\n    .register(swUrl)\r\n    .then(registration => {\r\n      registration.onupdatefound = () => {\r\n        const installingWorker = registration.installing;\r\n        if (installingWorker == null) {\r\n          return;\r\n        }\r\n        installingWorker.onstatechange = () => {\r\n          if (installingWorker.state === 'installed') {\r\n            if (navigator.serviceWorker.controller) {\r\n              // At this point, the updated precached content has been fetched,\r\n              // but the previous service worker will still serve the older\r\n              // content until all client tabs are closed.\r\n              console.log(\r\n                'New content is available and will be used when all ' +\r\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\r\n              );\r\n\r\n              // Execute callback\r\n              if (config && config.onUpdate) {\r\n                config.onUpdate(registration);\r\n              }\r\n            } else {\r\n              // At this point, everything has been precached.\r\n              // It's the perfect time to display a\r\n              // \"Content is cached for offline use.\" message.\r\n              console.log('Content is cached for offline use.');\r\n\r\n              // Execute callback\r\n              if (config && config.onSuccess) {\r\n                config.onSuccess(registration);\r\n              }\r\n            }\r\n          }\r\n        };\r\n      };\r\n    })\r\n    .catch(error => {\r\n      console.error('Error during service worker registration:', error);\r\n    });\r\n}\r\n\r\nfunction checkValidServiceWorker(swUrl, config) {\r\n  // Check if the service worker can be found. If it can't reload the page.\r\n  fetch(swUrl, {\r\n    headers: { 'Service-Worker': 'script' }\r\n  })\r\n    .then(response => {\r\n      // Ensure service worker exists, and that we really are getting a JS file.\r\n      const contentType = response.headers.get('content-type');\r\n      if (\r\n        response.status === 404 ||\r\n        (contentType != null && contentType.indexOf('javascript') === -1)\r\n      ) {\r\n        // No service worker found. Probably a different app. Reload the page.\r\n        navigator.serviceWorker.ready.then(registration => {\r\n          registration.unregister().then(() => {\r\n            window.location.reload();\r\n          });\r\n        });\r\n      } else {\r\n        // Service worker found. Proceed as normal.\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    })\r\n    .catch(() => {\r\n      console.log(\r\n        'No internet connection found. App is running in offline mode.'\r\n      );\r\n    });\r\n}\r\n\r\nexport function unregister() {\r\n  if ('serviceWorker' in navigator) {\r\n    navigator.serviceWorker.ready.then(registration => {\r\n      registration.unregister();\r\n    });\r\n  }\r\n}\r\n","\r\n\r\n// Начальные значения\r\nexport const startingValue = {\r\n  authorized: false,\r\n\r\n  // информация о пользователе\r\n  user: {\r\n    userLogin: '',\r\n    api_key: '',\r\n    redmineUrl: '',\r\n  },\r\n\r\n  // задачи\r\n  tasks: {},\r\n\r\n  // типы активности\r\n  activities: {},\r\n\r\n  // статистика\r\n  statistics: {\r\n    day: 0,\r\n    week: 0,\r\n    month: 0,\r\n  },\r\n\r\n  application: {\r\n    notSavedData: false,\r\n\r\n    showMobileMenu: false,\r\n    \r\n    modal: {\r\n      show: false,\r\n      title: '',\r\n      text: ''\r\n    },\r\n\r\n    notice: {\r\n      show: false,\r\n      type: '',\r\n      text: ''\r\n    }\r\n  },\r\n};","// mainStore\r\n\r\n/**\r\n * Стор (Store) — это объект, который соединяет части вместе. \r\n * \r\n * Стор берет на себя следующие задачи: \r\n * содержит состояние приложения (application state);\r\n * предоставляет доступ к состоянию с помощью getState();\r\n * предоставляет возможность обновления состояния с помощью dispatch(action);\r\n * Обрабатывает отмену регистрации слушателей с помощью функции, возвращаемой subscribe(listener).\r\n */\r\n\r\n\r\nimport { createStore } from 'redux';\r\nimport reducer from '../reducers/reducer';\r\nimport { startingValue } from '../startingValue';\r\n\r\nconst store = createStore(reducer, startingValue);\r\n\r\nexport default store;","// Редюсер (reducer) — это чистая функция, которая принимает предыдущее\r\n// состояние и экшен (state и action) и возвращает следующее состояние (новую версию предыдущего).\r\n\r\n\r\nimport {\r\n  UPD_TASKS,\r\n  UPD_AUTHORIZED,\r\n  UPD_USER_DATA,\r\n  UPD_APPLICATION_STATUS,\r\n  UPD_STATISTICS,\r\n  UPD_LOGIN,\r\n  UPD_ACTIVITIES,\r\n  UPD_NOTICE,\r\n  UPD_MODAL,\r\n  UPD_NOT_SAVED_DATA,\r\n  UPD_MOBILE_MENU,\r\n} from '../variables/actionTypes';\r\n\r\nexport default (state, action) => {\r\n  switch (action.type) {\r\n    // изменить какой-то из параметров UPD_APPLICATION_STATUS\r\n    case UPD_APPLICATION_STATUS:\r\n      return Object.assign({}, state, {\r\n        application: {\r\n          ...state.application,\r\n          states: {\r\n            ...state.application.states,\r\n            [action.name]: action.value !== undefined ? action.value : !state.application.states[action.name]\r\n          }\r\n        }\r\n      });\r\n    // изменить UPD_TASKS\r\n    case UPD_TASKS:\r\n      return Object.assign({}, state, {\r\n        ...state,\r\n        'tasks': action.value\r\n      });\r\n    // изменить UPD_NOTICE\r\n    case UPD_NOTICE:\r\n      return Object.assign({}, state, {\r\n        ...state,\r\n        'application': {\r\n          ...state.application,\r\n          'notice': {\r\n            show: action.notice.show !== undefined ? action.notice.show : false,\r\n            type: action.notice.type !== undefined ? action.notice.type : state.application.notice.type,\r\n            text: action.notice.text !== undefined ? action.notice.text : state.application.notice.text\r\n          }\r\n        }\r\n      });\r\n    // изменить UPD_MODAL\r\n    case UPD_MODAL:\r\n      return Object.assign({}, state, {\r\n        ...state,\r\n        'application': {\r\n          ...state.application,\r\n          'modal': {\r\n            show: action.modal.show !== undefined ? action.modal.show : false,\r\n            title: action.modal.title !== undefined ? action.modal.title : state.application.modal.title,\r\n            text: action.modal.text !== undefined ? action.modal.text : state.application.modal.text\r\n          }\r\n        }\r\n      });\r\n    // изменить notSavedData\r\n    case UPD_NOT_SAVED_DATA:\r\n      return Object.assign({}, state, {\r\n        ...state,\r\n        'application': {\r\n          ...state.application,\r\n          'notSavedData': action.value !== undefined ? action.value : !state.application.value,\r\n        }\r\n      });\r\n    // изменить UPD_MOBILE_MENU\r\n    case UPD_MOBILE_MENU:\r\n      return Object.assign({}, state, {\r\n        ...state,\r\n        'application': {\r\n          ...state.application,\r\n          'showMobileMenu': action.value !== undefined ? action.value : !state.application.showMobileMenu,\r\n        }\r\n      });\r\n    // изменить UPD_LOGIN\r\n    case UPD_LOGIN:\r\n      return Object.assign({}, state, {\r\n        ...state,\r\n        'user': {\r\n          ...state.user,\r\n          userLogin: action.login,\r\n        },\r\n      });\r\n    // изменить UPD_STATISTICS\r\n    case UPD_STATISTICS:\r\n      return Object.assign({}, state, {\r\n        ...state,\r\n        'statistics': {\r\n          ...state.statistics,\r\n          [action.name]: action.value !== undefined ? action.value : 0\r\n        }\r\n      });\r\n    // авторизован ли пользователь\r\n    case UPD_AUTHORIZED:\r\n      return Object.assign({}, state, {\r\n        'authorized': action.authorized !== undefined ? action.authorized : !state.authorized,\r\n      });\r\n    // авторизован ли пользователь\r\n    case UPD_ACTIVITIES:\r\n      return Object.assign({}, state, {\r\n        'activities': action.value,\r\n      });\r\n    // авторизован ли пользователь\r\n    case UPD_USER_DATA:\r\n      return Object.assign({}, state, {\r\n        ...state,\r\n        'user': {\r\n          userLogin: action.login ? action.login : '',\r\n          api_key: action.key ? action.key : '',\r\n          redmineUrl: action.url ? action.url : '',\r\n        }\r\n      });\r\n    default:\r\n      return state\r\n  }\r\n}","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './App';\r\nimport * as serviceWorker from './serviceWorker';\r\n\r\nimport { startingValue } from './startingValue';\r\n\r\nimport mainStore from './store/mainStore';\r\nimport { Provider } from \"react-redux\";\r\n\r\nimport { BrowserRouter } from 'react-router-dom';\r\n\r\n// Начальные значения\r\nconst data = startingValue;\r\n\r\nReactDOM.render(\r\n  <Provider store={mainStore}>\r\n    <BrowserRouter>\r\n      <App data={data} />\r\n    </BrowserRouter>\r\n  </Provider>,\r\n  document.getElementById('root'));\r\n\r\n// Learn more about service workers: https://bit.ly/CRA-PWA\r\nserviceWorker.register();\r\n\r\n"],"sourceRoot":""}